<div class="reel-container">
    <div class="reel-container__all">
        <div class="reel-container__nav">
            <svg (click)="cerrarReel()" style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%); cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path fill="currentColor" d="M15.293 3.293 6.586 12l8.707 8.707 1.414-1.414L9.414 12l7.293-7.293-1.414-1.414z"/></svg>
            <p>Reel</p>
        </div>
        <video
          class="reel-video"
          [src]="reel.url"
          autoplay
          loop
          playsinline
          (click)="dobleClick()"
        ></video>
      
        <div class="overlay">
          <div class="overlay__user">
            <div (click)="irAlPerfil()" style="all: unset; display: flex; gap: 7px; align-items: center; cursor: pointer;">
                <img class="user__foto" [src]="reel.perfil.foto ? reel.perfil.foto : './../../assets/img/noPic.webp'">
                <p class="user__name">{{ reel.perfil.usuario }}</p>
            </div>
            <p style="color: rgb(219, 219, 219);">{{ reel.descripcion }}</p>
          </div>
          <div class="overlay__options">
            <div class="options__option" (click)="like()">
                <svg *ngIf="!reel.likeado" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" width="28" height="28" image-rendering="optimizeQuality" clip-rule="evenodd" viewBox="0 0 512 456.549"><path fill="currentColor" d="M463.044 117.283c-10.125-26.729-28.412-47.537-50.269-60.578-13.478-8.048-28.343-13.125-43.461-14.808-14.879-1.655-30.018.007-44.284 5.407-37.461 14.189-50.601 41.912-66.522 74.028-3.422 6.887-1.964 6.964-5.893.078-17.576-30.87-33.786-63.684-70.127-75.725-12.879-4.26-26.554-5.408-40.088-3.845-13.83 1.606-27.546 6.028-40.207 12.83-25.068 13.485-45.883 36.215-55.382 64.916-31.525 95.237 83.379 188.376 170.42 258.918 12.97 10.506 25.363 20.547 36.834 30.251 15.449-13.288 32.356-26.695 49.995-40.687 87.815-69.634 195.291-154.872 158.984-250.785zm-29.173-95.842c29.483 17.589 54.094 45.531 67.663 81.351 46.924 123.973-73.479 219.471-171.871 297.485-22.829 18.11-44.418 35.228-61.078 50.41-7.626 7.478-19.85 7.894-27.969.711-13.9-12.323-31.033-26.201-49.312-41.01C94.743 332.128-32.73 228.808 7.688 106.7c12.956-39.151 41.144-70.042 75.028-88.266C99.939 9.175 118.705 3.147 137.724.943c19.337-2.232 38.983-.556 57.65 5.619 22.047 7.302 42.601 20.751 59.55 41.271 16.316-18.527 35.37-31.35 55.614-39.018 20.513-7.759 42.13-10.168 63.283-7.816 20.913 2.324 41.453 9.337 60.05 20.442z"/></svg>
                <svg *ngIf="reel.likeado" class="likeheart" version="1.0" xmlns="http://www.w3.org/2000/svg"
                width="28" height="28" viewBox="0 0 128.000000 128.000000"
                preserveAspectRatio="xMidYMid meet">
               
               <g transform="translate(0.000000,128.000000) scale(0.100000,-0.100000)"
               fill="currentColor" stroke="none">
               <path d="M277 1200 c-215 -54 -331 -299 -247 -522 26 -70 69 -135 139 -211 63
               -68 403 -367 439 -386 13 -7 35 -10 48 -7 28 7 375 307 455 393 169 184 211
               370 122 546 -62 124 -170 191 -308 192 -98 0 -170 -29 -239 -99 l-46 -45 -46
               45 c-81 82 -211 120 -317 94z"/>
               </g>
               </svg>
               
                <span style="font-size: 12px; color: rgb(219, 219, 219);">{{ reel.likes }}</span>
            </div>
            <div class="options__option" (click)="verComentarios = true">
                <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.97 122.88" width="28" height="28"><path fill="currentColor" d="M61.44,0a61.46,61.46,0,0,1,54.91,89l6.44,25.74a5.83,5.83,0,0,1-7.25,7L91.62,115A61.43,61.43,0,1,1,61.44,0ZM96.63,26.25a49.78,49.78,0,1,0-9,77.52A5.83,5.83,0,0,1,92.4,103L109,107.77l-4.5-18a5.86,5.86,0,0,1,.51-4.34,49.06,49.06,0,0,0,4.62-11.58,50,50,0,0,0-13-47.62Z"/></svg>
                <span style="font-size: 12px; color: rgb(219, 219, 219);">{{ reel.comentarios }}</span>
            </div>
            <div class="options__option" (click)="mostrarCompartir = true">
                <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.88 108.3" width="28" height="28"><path fill="currentColor" d="M96.14,12.47l-76.71-1.1,28.3,27.85L96.14,12.47ZM53.27,49l9.88,39.17L102.1,22,53.27,49ZM117,1.6a5.59,5.59,0,0,1,4.9,8.75L66.06,105.21a5.6,5.6,0,0,1-10.44-1.15L41.74,49,1.67,9.57A5.59,5.59,0,0,1,5.65,0L117,1.6Z"/></svg>
            </div>
          </div>
        </div>
        <app-comentarios *ngIf="verComentarios" [idPost]="reel._id" (cerrar)="verComentarios = false" (irPerfil)="cerrarReel()" (sumarComentario)="reel.comentarios = reel.comentarios + 1"></app-comentarios>
    </div>
</div>

<app-panelcompartir *ngIf="mostrarCompartir" [post]="reel" (cerrarPanel)="mostrarCompartir = false"></app-panelcompartir>